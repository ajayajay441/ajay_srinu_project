<div class="ebooking-page">
  <div
    fxLayout="row"
    fxLayoutGap="15px"
    class="mb-10"
    fxLayoutAlign="space-between center"
  >
    <h1 class="mb-0">E-Booking</h1>
    <button mat-raised-button color="primary" class="mat-elevation-z0">
      <mat-icon>upload_file</mat-icon>
      Generate Quote
    </button>
  </div>
  <!-- Add a New Shipment -->
  <div class="mb-10">
    <mat-accordion>
      <mat-expansion-panel
        class="mat-elevation-z0"
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h1 class="mb-0">Add a New Shipment</h1>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="mb-0">
          <div class="mb-0">
            <h3>Shipment name</h3>
          </div>
          <div class="mb-9">
            <div>
              <mat-form-field appearance="outline">
                <input
                  matInput
                  placeholder="Placeholder"
                  [(ngModel)]="ebooking.sShipperName"
                />
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="mb-3" *ngFor="let shipmentOption of shipmentOptions">
          <div fxLayout="row" class="mb-0">
            <h3>Select {{ shipmentOption.name }}</h3>
          </div>
          <div fxLayout="row wrap" fxLayoutGap="25px">
            <div
              *ngFor="let currentOption of shipmentOption.options"
              class="my-2"
            >
              <button
                mat-stroked-button
                [color]="
                  currentOption === shipmentOption.selectedValue
                    ? 'primary'
                    : 'light'
                "
                [class.light-color-button]="
                  currentOption !== shipmentOption.selectedValue
                "
                (click)="shipmentOption.selectedValue = currentOption"
              >
                {{ currentOption }}
              </button>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>

  <!-- Shipment Origin -->
  <div class="mb-10">
    <mat-accordion>
      <mat-expansion-panel
        class="mat-elevation-z0"
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h1 class="mb-0">Shipment Origin</h1>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="mb-0">
          <div class="mb-0">
            <h3>Origin Port</h3>
          </div>
          <div class="mb-9">
            <div
              fxLayout="column"
              fxLayout.gt-md="row"
              fxLayoutGap="25px"
              fxLayoutAlign="start start"
            >
              <mat-form-field>
                <input
                  type="text"
                  matInput
                  [(ngModel)]="ebooking.shipper"
                  (ngModelChange)="callApi($event)"
                  [matAutocomplete]="auto"
                />
                <mat-autocomplete #auto="matAutocomplete">
                  <mat-option
                    *ngFor="let item of originDataList"
                    [value]="item.name"
                  >
                    {{ item.name }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <mat-checkbox color="warn" [(ngModel)]="checked"
                >Checked</mat-checkbox
              >
            </div>
          </div>
        </div>

        <div class="mb-0">
          <div class="mb-0">
            <h3>Pick-Up Location</h3>
          </div>
          <div class="mb-9">
            <div
              fxLayout="column"
              fxLayout.gt-md="row"
              fxLayoutGap="25px"
              fxLayoutAlign="start start"
            >
              <mat-form-field appearance="outline" class="no-bottom-padding">
                <mat-select [(ngModel)]="ebooking.sPickupplace">
                  <mat-option [value]="sendto"> Shipper </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field appearance="outline" class="no-bottom-padding">
                <mat-select [(ngModel)]="ebooking.sPickupzipcode">
                  <mat-option [value]="sendto"> Zip Code </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="mb-0">
          <div class="mb-0">
            <h3>Cargo Ready for Pickup Date</h3>
          </div>
          <div class="mb-9">
            <div
              fxLayout="column"
              fxLayout.gt-md="row"
              fxLayoutGap="25px"
              fxLayoutAlign="start start"
            >
              <mat-form-field appearance="fill">
                <mat-label>MM/DD/YYYY</mat-label>
                <input matInput [matDatepicker]="picker" />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>

  <!-- Shipment Destination -->
  <div class="mb-10">
    <mat-accordion>
      <mat-expansion-panel
        class="mat-elevation-z0"
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h1 class="mb-0">Shipment Destination</h1>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="mb-0">
          <div class="mb-0">
            <h3>Destination Port</h3>
          </div>
          <div class="mb-9">
            <div
              fxLayout="column"
              fxLayout.gt-md="row"
              fxLayoutGap="25px"
              fxLayoutAlign="start start"
            >
              <mat-form-field appearance="outline" class="no-bottom-padding">
                <mat-select [(ngModel)]="sendto">
                  <mat-option [value]="sendto"> Search Port </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-checkbox color="warn" [(ngModel)]="checked"
                >Dekivery required</mat-checkbox
              >
            </div>
          </div>
        </div>

        <div class="mb-0">
          <div class="mb-0">
            <h3>Delivery Location</h3>
          </div>
          <div class="mb-9">
            <div
              fxLayout="column"
              fxLayout.gt-md="row"
              fxLayoutGap="25px"
              fxLayoutAlign="start start"
            >
              <mat-form-field appearance="outline" class="no-bottom-padding">
                <mat-select [(ngModel)]="ebooking.sDlylocation">
                  <mat-option [value]="sendto">
                    Search Address/city
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field appearance="outline" class="no-bottom-padding">
                <mat-select [(ngModel)]="ebooking.sDlyzipcode">
                  <mat-option [value]="sendto"> Zip Code </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="mb-0">
          <div class="mb-0">
            <h3>Cargo Ready for Delivery Date</h3>
          </div>
          <div class="mb-9">
            <div fxLayout="row" fxLayoutGap="25px" fxLayoutAlign="start end">
              <mat-form-field appearance="fill">
                <mat-label>MM/DD/YYYY</mat-label>
                <input matInput [matDatepicker]="picker" />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>

  <!-- Value added services -->
  <div class="mb-10">
    <mat-accordion>
      <mat-expansion-panel
        class="mat-elevation-z0"
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h1 class="mb-0">Value added services</h1>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div
          fxLayout="column"
          fxLayout.gt-md="row"
          fxLayoutAlign="space-between start"
        >
          <div fxFlex *ngFor="let valueService of valueService">
            <div fxLayout="row" class="mb-0">
              <h3>{{ valueService.label }}</h3>
            </div>
            <div class="mb-radio">
              <mat-radio-group
                color="primary"
                aria-label="Select an option"
                [(ngModel)]="ebooking[valueService.name]"
              >
                <mat-radio-button
                  class="mr-3"
                  [value]="option.value"
                  *ngFor="let option of valueService.options"
                >
                  {{ option.label }}
                </mat-radio-button>
              </mat-radio-group>
            </div>
          </div>
        </div>
        <!-- <button class="mat-raised-button" (click)="getalueAndServicesSelectedValues()">
          Test
        </button> -->
      </mat-expansion-panel>
    </mat-accordion>
  </div>

  <!-- Enter Customer Informations -->
  <div class="mb-10">
    <mat-accordion>
      <mat-expansion-panel
        class="mat-elevation-z0"
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h1 class="mb-0">Enter Customer Informations</h1>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="mb-0">
          <div class="mb-0">
            <h3>Shipper</h3>
          </div>
          <div class="mb-9">
            <div
              fxLayout="column"
              fxLayout.gt-md="row"
              fxLayoutGap="25px"
              fxLayoutAlign="start start"
            >
              <mat-form-field>
                <input
                  type="text"
                  matInput
                  [(ngModel)]="ebooking.shipper"
                  (ngModelChange)="callApi($event)"
                  [matAutocomplete]="auto"
                />
                <mat-autocomplete #auto="matAutocomplete">
                  <mat-option
                    *ngFor="let item of originDataList"
                    [value]="item.name"
                  >
                    {{ item.name }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <mat-checkbox color="warn" [(ngModel)]="checked"
                >Pick-up required</mat-checkbox
              >
            </div>
          </div>
        </div>

        <div class="mb-0">
          <div class="mb-0">
            <h3>Address</h3>
          </div>
          <div class="mb-9">
            <div
              fxLayout="column"
              fxLayout.gt-md="row"
              fxLayoutGap="25px"
              fxLayoutAlign="start start"
            >
              <mat-form-field appearance="outline" class="no-bottom-padding">
                <mat-select [(ngModel)]="ebooking.sPickupplace">
                  <mat-option [value]="sendto"> Shipper </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field appearance="outline" class="no-bottom-padding">
                <mat-select [(ngModel)]="ebooking.sPickupzipcode">
                  <mat-option [value]="sendto"> Zip Code </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="mb-0">
          <div class="mb-0">
            <h3>Cargo Ready for Pickup Date</h3>
          </div>
          <div class="mb-9">
            <div
              fxLayout="column"
              fxLayout.gt-md="row"
              fxLayoutGap="25px"
              fxLayoutAlign="start start"
            >
              <mat-form-field appearance="fill">
                <mat-label>MM/DD/YYYY</mat-label>
                <input matInput [matDatepicker]="picker" />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  <!--  First Notify Informations-->
  <div class="mb-10">
    <mat-accordion>
      <mat-expansion-panel
        class="mat-elevation-z0"
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h1 class="mb-0">First Notify Informations</h1>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="mb-0">
          <div class="mb-0">
            <h3>First Notify</h3>
          </div>
          <div class="mb-5">
            <div>
              <mat-form-field appearance="outline">
                <input
                  matInput
                  placeholder="Placeholder"
                  [(ngModel)]="ebooking.sShipperName"
                />
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="mb-0">
          <div class="mb-0">
            <h3>Adderess</h3>
          </div>
          <div class="mb-5">
            <div>
              <mat-form-field appearance="outline">
                <input
                  matInput
                  placeholder="Placeholder"
                  [(ngModel)]="ebooking.sShipperName"
                />
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="mb-0">
          <div class="mb-0">
            <h3>Cargo Ready for Pickup Date</h3>
          </div>
          <div class="mb-9">
            <div
              fxLayout="column"
              fxLayout.gt-md="row"
              fxLayoutGap="25px"
              fxLayoutAlign="start start"
            >
              <mat-form-field appearance="fill">
                <mat-label>MM/DD/YYYY</mat-label>
                <input matInput [matDatepicker]="picker" />
                <mat-datepicker-toggle
                  matSuffix
                  [for]="picker"
                ></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
  </div>
  <!-- Cargo & Container -->
  <div class="mb-10">
    <mat-accordion>
      <mat-expansion-panel
        class="mat-elevation-z0"
        (opened)="panelOpenState = true"
        (closed)="panelOpenState = false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h1 class="mb-0">Cargo & Container</h1>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div
          class="mb-9"
          *ngFor="
            let item of cargoContainerTypes;
            last as isLast;
            first as isFirst
          "
        >
          <div
            fxLayout="column"
            fxLayout.gt-md="row wrap"
            fxLayoutGap="10px"
            fxLayoutAlign="start center"
          >
            <div *ngFor="let field of item">
              <div *ngIf="field.options">
                <h5>{{ field.name }}</h5>
                <mat-form-field appearance="outline" class="no-bottom-padding">
                  <mat-select [(ngModel)]="field.selectedValue">
                    <mat-option
                      *ngFor="let option of field.options"
                      [value]="option"
                    >
                      {{ option }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div *ngIf="!field.options">
                <h5>{{ field.name }}</h5>
                <mat-form-field appearance="outline" class="no-bottom-padding">
                  <input
                    matInput
                    placeholder="Placeholder"
                    [(ngModel)]="field.selectedValue"
                  />
                </mat-form-field>
              </div>
            </div>
            <button
              mat-raised-button
              color="primary"
              class="mat-elevation-z0"
              *ngIf="isFirst && cargoContainerTypes.length === 1"
              (click)="addCargotype()"
            >
              add
            </button>
            <button
              mat-raised-button
              color="primary"
              class="mat-elevation-z0"
              *ngIf="isLast && cargoContainerTypes.length === 2"
              (click)="removeCargoType()"
            >
              Remove
            </button>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
    <button
      mat-raised-button
      color="primary"
      class="mat-elevation-z0"
      (click)="getCargoContainerTypeData()"
    >
      Confirm
    </button>
  </div>
</div>
